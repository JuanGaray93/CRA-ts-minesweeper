(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,n,t){e.exports=t(35)},23:function(e,n,t){},24:function(e,n,t){},25:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var r,a,c=t(0),o=t.n(c),i=t(6),u=t.n(i),s=(t(23),t(24),function(e){var n=e.children;return o.a.createElement("div",{className:"Background"},n)}),d=t(17),l=(t(25),t(5)),f=t(15),x=t.n(f);!function(e){e[e.Nothing=0]="Nothing",e[e.Mine=1]="Mine"}(r||(r={})),function(e){e[e.Clicked=0]="Clicked",e[e.Unclicked=1]="Unclicked",e[e.Flagged=2]="Flagged"}(a||(a={}));var m,v=10,g=10,p=10;!function(e){e[e.BOARD=0]="BOARD",e[e.GAME=1]="GAME"}(m||(m={}));var I,b=function(e){var n=e.i,t=e.j;return n>=0&&t>=0&&n<v&&t<g},k=function(e,n){for(var t=0,a=-1;a<2;a++)for(var c=-1;c<2;c++){if(b({i:n.iIndex+a,j:n.jIndex+c}))e[n.iIndex+a][n.jIndex+c].content===r.Mine&&t++}return t},j=function(){for(var e=[],n=0;n<v*g;n++)e.push({content:r.Nothing,state:a.Unclicked,surroundingBombs:0});for(var t=0;t<p;t++)e[t].content=r.Mine;e=x()(e);for(var c=[],o=0;o<v;o++){for(var i=[],u=0;u<g;u++)i.push(e.pop());c.push(i)}for(var s=0;s<v;s++)for(var d=0;d<g;d++){c[s][d].surroundingBombs=k(c,{iIndex:s,jIndex:d})}return c},h=Object(l.b)({name:"board",initialState:{squares:j()},reducers:{clickSquare:function(e,n){var t=n.payload,r=e.squares,c=r[t.iIndex][t.jIndex];c.state!==a.Flagged&&(c.state=a.Clicked,0===c.surroundingBombs&&function e(n,t){if(b({i:n.iIndex,j:n.jIndex})){var r=t[n.iIndex][n.jIndex];if(r.state=a.Clicked,0===r.surroundingBombs)[{iIndex:n.iIndex+1,jIndex:n.jIndex},{iIndex:n.iIndex-1,jIndex:n.jIndex},{iIndex:n.iIndex,jIndex:n.jIndex+1},{iIndex:n.iIndex,jIndex:n.jIndex-1}].filter((function(e){var n=e.iIndex,t=e.jIndex;return b({i:n,j:t})})).forEach((function(n){t[n.iIndex][n.jIndex].state!==a.Clicked&&e(n,t)}))}}(t,r))},toggleFlag:function(e,n){var t=n.payload,r=e.squares[t.iIndex][t.jIndex];r.state===a.Flagged?r.state=a.Unclicked:r.state===a.Unclicked&&(r.state=a.Flagged)},restartBoard:function(e){e.squares=j()}}}),S=function(e){return e[m.BOARD].squares},w=function(e){return function(n){return e[m.BOARD].squares[n.iIndex][n.jIndex]}};!function(e){e[e.Lost=0]="Lost",e[e.Playing=1]="Playing",e[e.Won=2]="Won"}(I||(I={}));var E=Object(l.b)({name:"game",initialState:{gameStatus:I.Playing},reducers:{loseGame:function(e){e.gameStatus=I.Lost},winGame:function(e){e.gameStatus=I.Won},restartGame:function(e){e.gameStatus=I.Playing}}}),O=function(e){return e[m.GAME].gameStatus===I.Lost},y=function(e){return e[m.GAME].gameStatus},B=t(4),C=(t(31),t(32),t(1)),q=t.n(C),M=t(3),A=t(11),G=function(e){return function(){var n=Object(M.a)(q.a.mark((function n(t,c){var o,i,u,s,d,l;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!O(c())){n.next=3;break}return n.abrupt("return");case 3:o=Object(A.a)(e),n.prev=4,o.s();case 6:if((i=o.n()).done){n.next=27;break}u=i.value,s=Object(A.a)(u),n.prev=9,s.s();case 11:if((d=s.n()).done){n.next=17;break}if((l=d.value).content!==r.Nothing||l.state===a.Clicked){n.next=15;break}return n.abrupt("return");case 15:n.next=11;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(9),s.e(n.t0);case 22:return n.prev=22,s.f(),n.finish(22);case 25:n.next=6;break;case 27:n.next=32;break;case 29:n.prev=29,n.t1=n.catch(4),o.e(n.t1);case 32:return n.prev=32,o.f(),n.finish(32);case 35:return n.abrupt("return",t(E.actions.winGame()));case 36:case"end":return n.stop()}}),n,null,[[4,29,32,35],[9,19,22,25]])})));return function(e,t){return n.apply(this,arguments)}}()},N={1:"blue",2:"green",3:"red",4:"darkBlue",5:"bordeaux",6:"aquamarine",7:"violet",8:"black"},F=Object(B.b)((function(e){return{gameStatus:y(e)}}),(function(e){return{onClick:function(n){var t,c=n.rowIndex,o=n.colIndex;e((t={iIndex:c,jIndex:o},function(){var e=Object(M.a)(q.a.mark((function e(n,c){var o,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=w(c())(t)).state!==a.Flagged){e.next=4;break}return e.abrupt("return");case 4:n(h.actions.clickSquare(t)),o.content===r.Mine&&n(function(){var e=Object(M.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(E.actions.loseGame());case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),i=S(c()),n(G(i));case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()))},onRightClick:function(n){var t,r=n.rowIndex,a=n.colIndex;e((t={iIndex:r,jIndex:a},function(){var e=Object(M.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(h.actions.toggleFlag(t));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()))}}}))((function(e){var n=e.onClick,t=e.onRightClick,c=e.content,i=e.uncoveredState,u=e.rowIndex,s=e.colIndex,d=e.gameStatus,l=function(e){var n=e.content,t=e.uncoveredState,c=e.minesAroundSquare;if(t===a.Unclicked)return"";if(t===a.Flagged)return"\ud83d\udea9";if(t===a.Clicked){if(n===r.Mine)return"\ud83d\udca3";if(n===r.Nothing)return String(c)}return""}({content:c,uncoveredState:i,minesAroundSquare:e.minesAround}),f="Square ".concat(function(e){var n=e.content,t=e.squareState;return t===a.Clicked?"clicked ".concat(N[n]||""):t===a.Flagged?"flagged":""}({content:l,squareState:i}));return o.a.createElement("button",{type:"button",className:f,disabled:i===a.Clicked||d===I.Lost,onClick:function(){return n({rowIndex:u,colIndex:s})},onContextMenu:function(e){e.preventDefault(),t({rowIndex:u,colIndex:s})}},l)})),R=function(e){var n=e.row,t=e.rowIndex;return o.a.createElement("div",{className:"SquareRow"},n.map((function(e,n){return o.a.createElement(F,{key:n,content:e.content,uncoveredState:e.state,minesAround:e.surroundingBombs,rowIndex:t,colIndex:n})})))},D=Object(B.b)((function(e){return{boardSquares:S(e),gameStatus:y(e)}}),(function(e){return{onStatusClick:function(){e(function(){var e=Object(M.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(E.actions.restartGame()),n(h.actions.restartBoard());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}}))((function(e){var n=e.boardSquares,t=e.gameStatus,r=e.onStatusClick,a=Object(c.useState)(!1),i=Object(d.a)(a,2),u=i[0],s=i[1],l=function(e,n){return e===I.Lost?"\ud83d\ude35":e===I.Won?"\ud83d\ude0e":n?"\ud83d\ude2e":"\ud83d\ude42"}(t,u);return o.a.createElement("div",{role:"button",tabIndex:0,className:"Board",onMouseDown:function(){s(!0)},onMouseUp:function(){return s(!1)}},o.a.createElement("header",{className:"BoardHeader"},o.a.createElement("h5",{className:"GameTitle"},"MINESWEEPER"),o.a.createElement("button",{className:"GameStatus",onClick:r},l)),null===n||void 0===n?void 0:n.map((function(e,n){return o.a.createElement(R,{key:n,row:e,rowIndex:n})})))}));t(34);var U=function(){return o.a.createElement(s,null,o.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W,L=t(12),P=t(2),J=Object(l.a)({reducer:Object(P.c)((W={},Object(L.a)(W,m.BOARD,h.reducer),Object(L.a)(W,m.GAME,E.reducer),W))});u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B.a,{store:J},o.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.028d8cd4.chunk.js.map